---
title: Upgrading from ClamAV Addon 1.x to 2.x
owner: Pivotal Compliance and Innovation (PCI) Team
---

<strong><%= modified_date %></strong>

This topic describes how to upgrade the ClamAV Add-on for PCF from v1.x, which uses runtime configs.

## <a id='upgrade-clamav'></a>Upgrade ClamAV Add-on
To upgrade the ClamAV Add-on, follow the steps below:

1. Retrieve the latest runtime config by running the following command:
  <pre>
    bosh -e ENVIRONMENT runtime-config > PATH-TO-SAVE-THE-RUNTIME-CONFIG
  </pre>

    Where:
    * `ENVIRONMENT` is your environment
    * `PATH-TO-SAVE-THE-RUNTIME-CONFIG` is the location where you want to save the runtime configuration.

    For example:
    <pre class="terminal">
      $ bosh -e my-env runtime-config > /runtime/config/
    </pre>

1. In the runtime config, remove all ClamAV properties under the `releases:` and `addons:` sections.

1. Update the runtime config.
  <pre>
    bosh -e ENVIRONMENT update-runtime-config --name=clamav PATH-TO-SAVE-THE-RUNTIME-CONFIG
  </pre>

    Where:
    * `ENVIRONMENT` is your environment
    * `PATH-TO-SAVE-THE-RUNTIME-CONFIG` is the location of the runtime configuration you are updating.

    For example:
    <pre class="terminal">
      $ bosh -e my-env update-runtime-config --name=clamav /runtime/config/
    </pre>

1. Follow the instructions in [Installing and Configuring ClamAV for PCF](./install.html) to set up the ClamAV tile.
